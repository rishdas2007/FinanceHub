<!DOCTYPE html>
<html>
<head>
    <title>React Loading Check</title>
    <script>
        // Intercept fetch to log all API calls
        const originalFetch = window.fetch;
        window.fetch = function(...args) {
            console.log('üîç FETCH INTERCEPTED:', args[0]);
            return originalFetch.apply(this, args)
                .then(response => {
                    console.log('‚úÖ FETCH RESPONSE:', args[0], response.status);
                    return response;
                })
                .catch(error => {
                    console.error('‚ùå FETCH ERROR:', args[0], error);
                    throw error;
                });
        };
        
        // Log any console errors
        window.addEventListener('error', (e) => {
            console.error('üî¥ GLOBAL ERROR:', e.message, e);
        });
        
        window.addEventListener('unhandledrejection', (e) => {
            console.error('üî¥ UNHANDLED REJECTION:', e.reason);
        });
    </script>
</head>
<body>
    <h1>React App Loading Test</h1>
    <p>Open browser console to see what's happening...</p>
    
    <iframe 
        src="http://localhost:8080/" 
        width="100%" 
        height="600" 
        style="border: 2px solid #ccc;">
    </iframe>
    
    <div id="status"></div>
    
    <script>
        setTimeout(() => {
            // Check if React mounted
            const iframe = document.querySelector('iframe');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            const root = iframeDoc.getElementById('root');
            
            const status = document.getElementById('status');
            
            if (root && root.children.length > 0) {
                status.innerHTML = '<h2 style="color: green;">‚úÖ React app mounted - ' + root.children.length + ' child elements</h2>';
                
                // Check for specific components
                const hasContent = iframeDoc.querySelector('.min-h-screen');
                const hasHeader = iframeDoc.querySelector('header');
                const hasTables = iframeDoc.querySelector('table');
                
                status.innerHTML += `
                    <p>Has main container: ${hasContent ? 'YES' : 'NO'}</p>
                    <p>Has header: ${hasHeader ? 'YES' : 'NO'}</p>
                    <p>Has tables: ${hasTables ? 'YES' : 'NO'}</p>
                `;
            } else {
                status.innerHTML = '<h2 style="color: red;">‚ùå React app NOT mounted</h2>';
            }
        }, 3000);
    </script>
</body>
</html>